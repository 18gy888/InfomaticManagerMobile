(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["iuc-softwareInstall-v1-allot"],{2635:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("5033")),s="00000000-0000-0000-0000-000000000000",u=(i("b716"),i("6faa"),{components:{stepInfo:n.default},onLoad:function(t){this.id=t.id,this.getData()},methods:{submit:function(t,e){t||this.model.HandlerId!==s?t&&!confirm(e)||uni.post("/api/installApp/v1/AssignForm",{ID:this.model.ID,HandlerId:this.model.HandlerId,ReviewOpinion:t||"同意"},function(t){uni.navigateTo({url:"/iuc/softwareInstall/v1/list"})}):alert("必须选择用户才能分配工作。")},getData:function(){var t=this,e=this.id;e&&e!==s?uni.post("/api/installApp/v1/GetAssignApplication",{id:e},function(e){t.users=e.users,t.model=e.data}):uni.navigateTo({url:"/iuc/softwareInstall/v1/list"})},userChange:function(t){var e=this.users[t.detail.value];this.currentUser=e.RealName||"请选择执行者",this.model.HandlerId=e.ID||s}},data:function(){return{id:s,isloading:!1,model:{},users:[],currentUser:"请选择执行者"}}});e.default=u},"4a0e":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("f499")),s=i("5f09"),u={name:"StepInfo",props:{value:{type:Object,default:function(){}}},data:function(){var t=JSON.parse((0,n.default)(s));return{steps:t,bindSteps:[]}},watch:{value:{deep:!0,immediate:!0,handler:function(t){var e="text-blue",i="err",a=this.steps;a[0].FinalState=t.State>0?e:"",a[0].err="";var n=function(t){return 20===t?e:30===t?"text-red":""};a[1].FinalState=n(t.ReviewState),a[1].err=30===t.ReviewState?i:"",a[2].FinalState=n(t.HandleState),a[2].err=30===t.HandleState?i:"",a[3].FinalState=n(t.CheckState),a[3].err=30===t.CheckState?i:""}}}};e.default=u},5033:function(t,e,i){"use strict";i.r(e);var a=i("8474"),n=i("b3c8");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);var u=i("2877"),l=Object(u["a"])(n["default"],a["a"],a["b"],!1,null,"5c6f161d",null);e["default"]=l.exports},"5f09":function(t,e,i){"use strict";var a=[{id:0,name:"填写申请表",FinalState:"",err:""},{id:1,name:"分配经办人",FinalState:"",err:""},{id:2,name:"正在安装中",FinalState:"",err:""},{id:3,name:"等待确认中",FinalState:"",err:""}];t.exports=a},7247:function(t,e,i){"use strict";i.r(e);var a=i("f593"),n=i("a935");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);var u=i("2877"),l=Object(u["a"])(n["default"],a["a"],a["b"],!1,null,"95385a88",null);e["default"]=l.exports},8474:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"cu-steps margin-top"},t._l(t.steps,function(e,a){return i("v-uni-view",{key:e.id,staticClass:"cu-item",class:e.FinalState},[i("v-uni-text",{staticClass:"num",class:e.err,attrs:{"data-index":a+1}}),t._v(t._s(e.name))],1)}),1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},a935:function(t,e,i){"use strict";i.r(e);var a=i("2635"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},b3c8:function(t,e,i){"use strict";i.r(e);var a=i("4a0e"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},b716:function(t,e,i){"use strict";var a={workflow:{0:"申请中",10:"待分配",20:"安装中",30:"待确认",40:"已完成",50:"已取消"},workflowColor:{0:"blue",10:"blue",20:"blue",30:"blue",40:"green",50:"red"},bussiness:{0:"未开始",10:"进行中",20:"已完成",30:"已取消"},stepInfo:{0:"准备中",1:"进行中",2:"已执行",3:"已完成",4:"已取消"}};t.exports=a},f593:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{attrs:{id:"software-assign"}},[i("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:"/iuc/softwareInstall/v1/list"}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[t._v("软件安装申请表")])],2),i("stepInfo",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),i("v-uni-form",[i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[t._v("申请人")]),i("v-uni-input",{attrs:{value:t.model.Owner,disabled:""}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("联系方式")]),i("v-uni-input",{attrs:{value:t.model.Telephone,disabled:""}}),i("v-uni-view",{staticClass:"cu-capsule radius"},[i("v-uni-view",{staticClass:"cu-tag bg-blue "},[t._v("+86")]),i("v-uni-view",{staticClass:"cu-tag line-blue"},[t._v("中国大陆")])],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("所属部门")]),i("v-uni-input",{attrs:{value:t.model.BelongDepart,disabled:""}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("申请时间")]),i("v-uni-input",{attrs:{disabled:"true",value:t.model.CreatedTime}})],1),i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[t._v("选择实验室")]),i("v-uni-input",{attrs:{value:t.model.RoomName,disabled:""}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("待装软件")]),i("v-uni-input",{attrs:{value:t.model.ApplicationName,disabled:""}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("软件版本")]),i("v-uni-input",{attrs:{value:t.model.Version||"未设置",disabled:""}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("下载地址")]),i("v-uni-input",{attrs:{value:t.model.Download||"未设置",disabled:""}})],1),i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[t._v("选择执行者")]),i("v-uni-picker",{attrs:{range:t.users,"range-key":"RealName"},on:{change:function(e){e=t.$handleEvent(e),t.userChange(e)}}},[i("v-uni-view",{staticClass:"content"},[t._v(t._s(t.currentUser))])],1)],1),i("v-uni-view",{staticClass:"action-list cu-list grid col-3 margin-top margin-bottom"},[i("v-uni-view",{staticClass:"cu-item",on:{click:function(e){e=t.$handleEvent(e),t.submit("")}}},[i("v-uni-view",{staticClass:"cuIcon-roundcheckfill text-green"}),i("v-uni-text",[t._v("确认分配")])],1),i("v-uni-view",{staticClass:"cu-item",on:{click:function(e){e=t.$handleEvent(e),t.submit("修改软件名称","执行该操作会将流程发回给申请老师，是否继续？")}}},[i("v-uni-view",{staticClass:"cuIcon-writefill text-green"}),i("v-uni-text",[t._v("修改软件名称")])],1),i("v-uni-view",{staticClass:"cu-item",on:{click:function(e){e=t.$handleEvent(e),t.submit("软件不存在或流程无法继续","执行操作将关闭流程，是否继续？")}}},[i("v-uni-view",{staticClass:"cuIcon-roundclosefill text-red"}),i("v-uni-text",[t._v("取消流程")])],1)],1)],1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})}}]);